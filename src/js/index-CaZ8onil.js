var y=Object.defineProperty;var C=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var b=(r,e,o)=>e in r?y(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o,h=(r,e)=>{for(var o in e||(e={}))k.call(e,o)&&b(r,o,e[o]);if(C)for(var o of C(e))w.call(e,o)&&b(r,o,e[o]);return r};var d=(r,e,o)=>new Promise((m,s)=>{var l=t=>{try{n(o.next(t))}catch(i){s(i)}},c=t=>{try{n(o.throw(t))}catch(i){s(i)}},n=t=>t.done?m(t.value):Promise.resolve(t.value).then(l,c);n((o=o.apply(r,e)).next())});import"./vxe-table-5UTMlFMN.js";import{c as v,q as V,a as q,b as B}from"./data-Dc-OkGqD.js";import{_ as N}from"./page.vue_vue_type_script_setup_true_lang-C6V6VPKH.js";import{d as P,p as O,l as S,h as $,o as j,w as a,a as f,b as p,k as g,j as _,t as F}from"../jse/index-index-CKHiV3bJ.js";import{u as I}from"./use-vxe-grid-jJsowVf7.js";import{P as L}from"./index-Bf3KtG2n.js";import{g as T}from"./get-popup-container-P4S1sr5h.js";import"./form-DcAycvJX.js";import"./bootstrap-CbEyMBZc.js";import"./use-vben-form-CDDuv56b.js";import"./index-C0ExvxMt.js";import"./checkbox.vue_vue_type_script_setup_true_lang-53DrAgf8.js";import"./render-content.vue_vue_type_script_lang-h-IJYrAt.js";import"./init-5GXIIGpx.js";import"./index-CUsW12bK.js";import"./css-Dmgy8YJo.js";import"./LeftOutlined-D2uSfO0F.js";import"./render-C2mFGEaj.js";import"./index-cCfXrJ1Q.js";import"./index-BLUHc0Mr.js";import"./data-CsrVBQ4i.js";import"./index-D7oCs85i.js";import"./index-BQy1gs98.js";import"./dict-LWP2femj.js";import"./helper-CgBacOxF.js";import"./json-preview.vue_vue_type_style_index_0_lang-D-h_IPZe.js";import"./index-7E7RpNGb.js";const A={class:"mr-1 pl-1 text-[1rem]"},D={class:"text-primary font-bold"},go=P({__name:"index",setup(r){const e={commonConfig:{labelWidth:80,componentProps:{allowClear:!0}},schema:V(),wrapperClass:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},o=O(0),m={columns:v,height:"auto",keepSource:!0,pagerConfig:{enabled:!1},proxyConfig:{ajax:{query:(i,...x)=>d(null,[i,...x],function*(n,t={}){const u=yield q(h({},t));return o.value=u.total,u})}},scrollY:{enabled:!0,gt:0},rowConfig:{keyField:"tokenId"},id:"monitor-online-index"},[s,l]=I({formOptions:e,gridOptions:m});function c(n){return d(this,null,function*(){yield B(n.tokenId),yield l.query()})}return(n,t)=>{const i=S("ghost-button");return j(),$(p(N),{"auto-content-height":!0},{default:a(()=>[f(p(s),null,{"toolbar-actions":a(()=>[_("div",A,[_("div",null,[t[0]||(t[0]=g(" 在线用户列表 (共 ")),_("span",D,F(o.value),1),t[1]||(t[1]=g(" 人在线) "))])])]),action:a(({row:x})=>[f(p(L),{"get-popup-container":p(T),title:`确认强制下线[${x.userName}]?`,placement:"left",onConfirm:u=>c(x)},{default:a(()=>[f(i,{danger:""},{default:a(()=>t[2]||(t[2]=[g("强制下线")])),_:1,__:[2]})]),_:2},1032,["get-popup-container","title","onConfirm"])]),_:1})]),_:1})}}});export{go as default};
