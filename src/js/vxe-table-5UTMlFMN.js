var u=(r,e,o)=>new Promise((t,n)=>{var c=s=>{try{a(o.next(s))}catch(i){n(i)}},l=s=>{try{a(o.throw(s))}catch(i){n(i)}},a=s=>s.done?t(s.value):Promise.resolve(s.value).then(c,l);a((o=o.apply(r,e)).next())});import{u as m}from"./form-DcAycvJX.js";import{y as g,au as d}from"./bootstrap-CbEyMBZc.js";import{s as C}from"./init-5GXIIGpx.js";import{I as h}from"./index-CUsW12bK.js";import{M as f}from"../jse/index-index-CKHiV3bJ.js";function b(r){return g.get(`/system/tableConfig/config/${r}`)}function p(r){return g.postWithMsg("/system/tableConfig/saveConfig",r)}const y=r=>u(null,null,function*(){try{const e=yield b(r);return e!=null&&e.configData?JSON.parse(e.configData):{}}catch(e){return console.error("获取表格配置失败:",e),{}}}),w=(r,e)=>u(null,null,function*(){try{yield p({tableId:r,configData:JSON.stringify(e)}),console.log("保存表格配置成功")}catch(o){console.error("保存表格配置失败:",o)}});C({configVxeTable:r=>{r.setConfig({grid:{align:"center",border:!1,minHeight:180,formConfig:{enabled:!1},proxyConfig:{autoLoad:!0,response:{result:"rows",total:"total",list:"rows"},showActiveMsg:!0,showResponseMsg:!1},showOverflow:!0,pagerConfig:{pageSize:10,pageSizes:[10,20,30,40,50]},sortConfig:{showIcon:!0},rowConfig:{isHover:!0,isCurrent:!1},columnConfig:{resizable:!0},toolbarConfig:{custom:{icon:"vxe-icon-setting"},zoom:!0,refresh:{code:"query"}},round:!0,size:"medium",customConfig:{storage:!0,restoreStore({id:e}){return y(e)},updateStore({id:e,storeData:o}){return w(e,o)}}}}),r.renderer.add("CellImage",{renderTableDefault(e,o){const{column:t,row:n}=o;return f(h,{src:n[t.field]})}}),r.renderer.add("CellLink",{renderTableDefault(e){const{props:o}=e;return f(d,{size:"small",type:"link"},{default:()=>o==null?void 0:o.text})}})},useVbenForm:m});function D(r){var e,o,t;return((t=(o=(e=r==null?void 0:r.grid)==null?void 0:e.getCheckboxRecords)==null?void 0:o.call(e))==null?void 0:t.length)>0}function M(r,e){if(e.length===0)return;const o=e.map(n=>n.field).join(","),t=e.map(n=>n.order).join(",");r.orderByColumn=o,r.isAsc=t}export{M as a,b as g,p as s,D as v};
