var E=Object.defineProperty;var R=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var $=(r,e,o)=>e in r?E(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o,D=(r,e)=>{for(var o in e||(e={}))B.call(e,o)&&$(r,o,e[o]);if(R)for(var o of R(e))N.call(e,o)&&$(r,o,e[o]);return r};var C=(r,e,o)=>new Promise((k,n)=>{var v=m=>{try{c(o.next(m))}catch(u){n(u)}},s=m=>{try{c(o.throw(m))}catch(u){n(u)}},c=m=>m.done?k(m.value):Promise.resolve(m.value).then(v,s);c((o=o.apply(r,e)).next())});import{aq as q,al as O}from"./bootstrap-CbEyMBZc.js";import{d as z,l as M,V as W,h as l,o as d,w as i,a as h,b as a,W as y,k as _,t as b}from"../jse/index-index-CKHiV3bJ.js";import{v as j}from"./vxe-table-5UTMlFMN.js";import{q as F,c as G,_ as L,a as H,b as V,d as I}from"./autoCodeRule-modal.vue_vue_type_script_setup_true_lang-DInGq7oH.js";import{c as J}from"./download-BL_xY_mD.js";import S from"./index-Yd03BW_o.js";import{_ as K}from"./page.vue_vue_type_script_setup_true_lang-C6V6VPKH.js";import{u as Q}from"./use-vxe-grid-jJsowVf7.js";import{u as U}from"./use-modal-BtBQhM0d.js";import{P as X}from"./index-Bf3KtG2n.js";import{g as Y}from"./get-popup-container-P4S1sr5h.js";import"./form-DcAycvJX.js";import"./use-vben-form-CDDuv56b.js";import"./index-C0ExvxMt.js";import"./checkbox.vue_vue_type_script_setup_true_lang-53DrAgf8.js";import"./render-content.vue_vue_type_script_lang-h-IJYrAt.js";import"./init-5GXIIGpx.js";import"./index-CUsW12bK.js";import"./css-Dmgy8YJo.js";import"./LeftOutlined-D2uSfO0F.js";import"./helper-CgBacOxF.js";import"./dict-LWP2femj.js";import"./render-C2mFGEaj.js";import"./index-cCfXrJ1Q.js";import"./index-BLUHc0Mr.js";import"./data-CsrVBQ4i.js";import"./index-D7oCs85i.js";import"./index-BQy1gs98.js";import"./json-preview.vue_vue_type_style_index_0_lang-D-h_IPZe.js";import"./index.vue_vue_type_script_setup_true_lang-DD8R5ZD6.js";import"./index-DPCczbzV.js";import"./autoCodePart-modal.vue_vue_type_script_setup_true_lang-BVcAHS4a.js";import"./data-Cc55b18P.js";import"./autoCodePart-view-modal.vue_vue_type_script_setup_true_lang-CVeGBxeP.js";import"./useDescription-B6kfVHGc.js";import"./index-vRRmcGk_.js";import"./index-BPV6pKaP.js";import"./index-65hk_V-f.js";import"./index-CQDwpHx9.js";import"./shallowequal-BSzQCceG.js";import"./uniq-DFnFScdj.js";import"./Overflow-1mM_ifyS.js";import"./index-B4Ee8RY3.js";import"./slide-BYSN4a27.js";import"./Dropdown-CEQGVhtH.js";import"./pick-DDCWWYz_.js";import"./isMobile-8sZ0LT6r.js";import"./index-Bn5n5c2e.js";import"./x-C_lPlK2i.js";import"./index-7E7RpNGb.js";const Xo=z({__name:"index",setup(r){const e={commonConfig:{labelWidth:80,componentProps:{allowClear:!0}},schema:F(),wrapperClass:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},o={checkboxConfig:{highlight:!0,reserve:!0},columns:G,height:"auto",keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:(f,...x)=>C(null,[f,...x],function*({page:t},p={}){return yield H(D({pageNum:t.currentPage,pageSize:t.pageSize},p))})}},rowConfig:{keyField:"id"},id:"system-autoCodeRule-index"},[k,n]=Q({formOptions:e,gridOptions:o}),[v,s]=U({connectedComponent:L});function c(){s.setData({}),s.open()}function m(t){return C(this,null,function*(){s.setData({id:t.id}),s.open()})}function u(t){return C(this,null,function*(){yield V(t.id),yield n.query()})}function A(){const p=n.grid.getCheckboxRecords().map(f=>f.id);O.confirm({title:"提示",okType:"danger",content:`确认删除选中的${p.length}条记录吗？`,onOk:()=>C(null,null,function*(){yield V(p),yield n.query()})})}function P(){J(I,"编码生成规则数据",n.formApi.form.values,{fieldMappingTime:e.fieldMappingTime})}return(t,p)=>{const f=M("a-button"),x=M("ghost-button"),g=W("access");return d(),l(a(K),{"auto-content-height":!0},{default:i(()=>[h(a(k),{"table-title":"编码生成规则列表"},{"toolbar-tools":i(()=>[h(a(S),null,{default:i(()=>[y((d(),l(f,{onClick:P},{default:i(()=>[_(b(t.$t("pages.common.export")),1)]),_:1})),[[g,["system:autoCodeRule:export"],"code"]]),y((d(),l(f,{disabled:!a(j)(a(n)),danger:"",type:"primary",onClick:A},{default:i(()=>[_(b(t.$t("pages.common.delete")),1)]),_:1},8,["disabled"])),[[g,["system:autoCodeRule:remove"],"code"]]),y((d(),l(f,{type:"primary",onClick:c},{default:i(()=>[_(b(t.$t("pages.common.add")),1)]),_:1})),[[g,["system:autoCodeRule:add"],"code"]])]),_:1})]),action:i(({row:w})=>[h(a(S),null,{default:i(()=>[y((d(),l(x,{onClick:q(T=>m(w),["stop"])},{default:i(()=>[_(b(t.$t("pages.common.edit")),1)]),_:2},1032,["onClick"])),[[g,["system:autoCodeRule:edit"],"code"]]),h(a(X),{"get-popup-container":a(Y),placement:"left",title:"确认删除？",onConfirm:T=>u(w)},{default:i(()=>[y((d(),l(x,{danger:"",onClick:p[0]||(p[0]=q(()=>{},["stop"]))},{default:i(()=>[_(b(t.$t("pages.common.delete")),1)]),_:1})),[[g,["system:autoCodeRule:remove"],"code"]])]),_:2},1032,["get-popup-container","onConfirm"])]),_:2},1024)]),_:1}),h(a(v),{onReload:p[1]||(p[1]=w=>a(n).query())})]),_:1})}}});export{Xo as default};
