var q=Object.defineProperty;var x=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var N=(e,o,t)=>o in e?q(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,D=(e,o)=>{for(var t in o||(o={}))B.call(o,t)&&N(e,t,o[t]);if(x)for(var t of x(o))M.call(o,t)&&N(e,t,o[t]);return e};var d=(e,o,t)=>new Promise((w,m)=>{var k=r=>{try{c(t.next(r))}catch(l){m(l)}},p=r=>{try{c(t.throw(r))}catch(l){m(l)}},c=r=>r.done?w(r.value):Promise.resolve(r.value).then(k,p);c((t=t.apply(e,o)).next())});import{ap as S,aq as Y,al as A}from"./bootstrap-CbEyMBZc.js";import{v as z}from"./vxe-table-5UTMlFMN.js";import{_ as R,n as W,a as $}from"./notice-modal.vue_vue_type_script_setup_true_lang-B_rkVwTE.js";import{g as j}from"./dict-LWP2femj.js";import{r as I}from"./render-C2mFGEaj.js";import{a as F,g as G}from"./get-popup-container-P4S1sr5h.js";import P from"./index-Yd03BW_o.js";import{_ as L}from"./page.vue_vue_type_script_setup_true_lang-C6V6VPKH.js";import{d as U,l as E,V as H,h as u,o as f,w as n,a as g,b as a,W as y,k as C,t as b}from"../jse/index-index-CKHiV3bJ.js";import{u as J}from"./use-vxe-grid-jJsowVf7.js";import{u as K}from"./use-modal-BtBQhM0d.js";import{P as Q}from"./index-Bf3KtG2n.js";import"./form-DcAycvJX.js";import"./use-vben-form-CDDuv56b.js";import"./index-C0ExvxMt.js";import"./checkbox.vue_vue_type_script_setup_true_lang-53DrAgf8.js";import"./render-content.vue_vue_type_script_lang-h-IJYrAt.js";import"./init-5GXIIGpx.js";import"./index-CUsW12bK.js";import"./css-Dmgy8YJo.js";import"./LeftOutlined-D2uSfO0F.js";import"./index-DJpumY_N.js";import"./index-BQy1gs98.js";import"./popup-DepLi2Z4.js";import"./pick-DDCWWYz_.js";import"./index-Bo5G3-h7.js";import"./Search-BSSOOXXu.js";import"./statusUtils-BVmAuBuf.js";import"./BaseInput-B-KbMaIq.js";import"./index-CWS-moKy.js";import"./SearchOutlined-wPvswOvm.js";import"./index-B4Ee8RY3.js";import"./Group-u_j2Tbqv.js";import"./Checkbox-CpVw4yVS.js";import"./helper-CgBacOxF.js";import"./index-cCfXrJ1Q.js";import"./index-BLUHc0Mr.js";import"./data-CsrVBQ4i.js";import"./index-D7oCs85i.js";import"./json-preview.vue_vue_type_style_index_0_lang-D-h_IPZe.js";import"./x-C_lPlK2i.js";import"./index-7E7RpNGb.js";const X=()=>[{component:"Input",fieldName:"noticeTitle",label:"公告标题"},{component:"Input",fieldName:"createBy",label:"创建人"},{component:"Select",componentProps:{getPopupContainer:F,options:j(S.SYS_NOTICE_TYPE)},fieldName:"noticeType",label:"公告类型"}],Z=[{type:"checkbox",width:60},{title:"公告标题",field:"noticeTitle"},{title:"公告类型",field:"noticeType",width:120,slots:{default:({row:e})=>I(e.noticeType,S.SYS_NOTICE_TYPE)}},{title:"状态",field:"status",width:120,slots:{default:({row:e})=>I(e.status,S.SYS_NOTICE_STATUS)}},{title:"创建人",field:"createByName",width:150},{title:"创建时间",field:"createTime"},{field:"action",fixed:"right",slots:{default:"action"},title:"操作",resizable:!1,width:"auto"}],jt=U({__name:"index",setup(e){const o={commonConfig:{labelWidth:80,componentProps:{allowClear:!0}},schema:X(),wrapperClass:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},t={checkboxConfig:{highlight:!0,reserve:!0},columns:Z,height:"auto",keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:(h,...v)=>d(null,[h,...v],function*({page:i},s={}){return yield W(D({pageNum:i.currentPage,pageSize:i.pageSize},s))})}},rowConfig:{keyField:"noticeId"},id:"system-notice-index"},[w,m]=J({formOptions:o,gridOptions:t}),[k,p]=K({connectedComponent:R});function c(){p.setData({}),p.open()}function r(i){return d(this,null,function*(){p.setData({id:i.noticeId}),p.open()})}function l(i){return d(this,null,function*(){yield $([i.noticeId]),yield m.query()})}function O(){const s=m.grid.getCheckboxRecords().map(h=>h.noticeId);A.confirm({title:"提示",okType:"danger",content:`确认删除选中的${s.length}条记录吗？`,onOk:()=>d(null,null,function*(){yield $(s),yield m.query()})})}return(i,s)=>{const h=E("a-button"),v=E("ghost-button"),_=H("access");return f(),u(a(L),{"auto-content-height":!0},{default:n(()=>[g(a(w),{"table-title":"通知公告列表"},{"toolbar-tools":n(()=>[g(a(P),null,{default:n(()=>[y((f(),u(h,{disabled:!a(z)(a(m)),danger:"",type:"primary",onClick:O},{default:n(()=>[C(b(i.$t("pages.common.delete")),1)]),_:1},8,["disabled"])),[[_,["system:notice:remove"],"code"]]),y((f(),u(h,{type:"primary",onClick:c},{default:n(()=>[C(b(i.$t("pages.common.add")),1)]),_:1})),[[_,["system:notice:add"],"code"]])]),_:1})]),action:n(({row:T})=>[g(a(P),null,{default:n(()=>[y((f(),u(v,{onClick:V=>r(T)},{default:n(()=>[C(b(i.$t("pages.common.edit")),1)]),_:2},1032,["onClick"])),[[_,["system:notice:edit"],"code"]]),g(a(Q),{"get-popup-container":a(G),placement:"left",title:"确认删除？",onConfirm:V=>l(T)},{default:n(()=>[y((f(),u(v,{danger:"",onClick:s[0]||(s[0]=Y(()=>{},["stop"]))},{default:n(()=>[C(b(i.$t("pages.common.delete")),1)]),_:1})),[[_,["system:notice:remove"],"code"]])]),_:2},1032,["get-popup-container","onConfirm"])]),_:2},1024)]),_:1}),g(a(k),{onReload:s[1]||(s[1]=T=>a(m).query())})]),_:1})}}});export{jt as default};
