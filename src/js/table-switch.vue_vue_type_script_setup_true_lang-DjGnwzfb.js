var m=(d,h,a)=>new Promise((r,i)=>{var f=t=>{try{n(a.next(t))}catch(l){i(l)}},c=t=>{try{n(a.throw(t))}catch(l){i(l)}},n=t=>t.done?r(t.value):Promise.resolve(t.value).then(f,c);n((a=a.apply(d,h)).next())});import{$ as g,i as p,al as b}from"./bootstrap-CbEyMBZc.js";import T from"./index-CzyoVQCf.js";import{d as B,m as C,B as y,u as x,p as V,h as w,o as M,b as S,R as N}from"../jse/index-index-CKHiV3bJ.js";const U=B({__name:"table-switch",props:C({checkedText:{default:void 0},unCheckedText:{default:void 0},checkedValue:{type:[Boolean,Number,String],default:"0"},unCheckedValue:{type:[Boolean,Number,String],default:"1"},disabled:{type:Boolean},api:{},confirm:{type:Boolean,default:!1},confirmText:{type:Function,default:void 0}},{value:{type:[Boolean,Number,String],default:!1},valueModifiers:{}}),emits:C(["reload"],["update:value"]),setup(d,{emit:h}){const a=d,r=h,i=y(()=>{var e;return(e=a.checkedText)!=null?e:g("pages.common.enable")}),f=y(()=>{var e;return(e=a.unCheckedText)!=null?e:g("pages.common.disable")}),c=x(d,"value"),n=V(!1);function t(e,o){const s=p(a.confirmText)?a.confirmText(e):"确认要更新状态吗？";b.confirm({title:"提示",content:s,centered:!0,onOk:()=>m(null,null,function*(){try{n.value=!0;const{api:u}=a;p(u)&&(yield u()),r("reload")}catch(u){c.value=o}finally{n.value=!1}}),onCancel:()=>{c.value=o}})}function l(e,o){return m(this,null,function*(){o.stopPropagation();const{checkedValue:s,unCheckedValue:u}=a,k=e===s?u:s;c.value=e;const{api:v}=a;try{if(n.value=!0,a.confirm){t(e,k);return}p(v)&&(yield v()),r("reload")}catch($){c.value=k}finally{n.value=!1}})}return(e,o)=>(M(),w(S(T),N(e.$attrs,{loading:n.value,disabled:e.disabled,checked:c.value,"checked-children":i.value,"checked-value":e.checkedValue,"un-checked-children":f.value,"un-checked-value":e.unCheckedValue,onChange:l}),null,16,["loading","disabled","checked","checked-children","checked-value","un-checked-children","un-checked-value"]))}});export{U as _};
