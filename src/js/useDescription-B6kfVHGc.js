var V=Object.defineProperty,E=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var R=(e,t,n)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,o=(e,t)=>{for(var n in t||(t={}))L.call(t,n)&&R(e,n,t[n]);if(z)for(var n of z(t))M.call(t,n)&&R(e,n,t[n]);return e},_=(e,t)=>E(e,F(t));import{D as $}from"./index-vRRmcGk_.js";import{C as Q}from"./index-BPV6pKaP.js";import{i as x,bk as T}from"./bootstrap-CbEyMBZc.js";import{d as q,p as j,a3 as G,B as C,b as s,a as y,R as H,Q as J,a4 as K,z as U}from"../jse/index-index-CKHiV3bJ.js";function X(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!J(e)}const Y={bordered:{default:!0,type:Boolean},column:{default:()=>({lg:3,md:3,sm:2,xl:3,xs:1,xxl:4}),type:[Number,Object]},data:{type:Object},schema:{default:()=>[],type:Array},size:{default:"small",type:String,validator:e=>["default","middle","small",void 0].includes(e)},title:{default:"",type:String},useCollapse:{default:!0,type:Boolean}},oe=q({emits:["register"],name:"Description",props:Y,setup(e,{emit:t,slots:n}){const g=j(null),w="description",c=G(),h=C(()=>o(o({},e),s(g))),d=C(()=>_(o({},s(h)),{title:void 0})),b=C(()=>!!s(h).title),B=C(()=>o(o({},s(c)),s(d)));function I(r){g.value=o(o({},s(g)),r)}function N({label:r,labelMinWidth:f,labelStyle:u}){if(!u&&!f)return r;const a=_(o({},u),{minWidth:`${f}px `});return y("div",{style:a},[r])}function W(){const{data:r,schema:f}=s(d);return s(f).map(u=>{const{contentMinWidth:a,field:i,render:p,show:m,span:v}=u;if(m&&x(m)&&!m(r))return null;const O=()=>{var S;const l=(S=s(d))==null?void 0:S.data;if(!l)return null;const D=T(l,i);return D&&!K(l).hasOwnProperty(i)?x(p)?p("",l):"":x(p)?p(D,l):D!=null?D:""},A=a;return y($.Item,{key:i,label:N(u),span:v},{default:()=>{if(!a)return O();const l={minWidth:`${A}px`};return y("div",{style:l},[O()])}})}).filter(u=>!!u)}const P=()=>{let r;return y($,H({class:`${w}`},s(B)),X(r=W())?r:{default:()=>[r]})},k=()=>{const r=e.useCollapse?P():y("div",null,[P()]);if(!e.useCollapse)return r;const{title:f}=s(h);function u(a,i="default",p){if(!a||!Reflect.has(a,i))return null;if(!x(a[i]))return console.error(`${i} is not a function!`),null;const m=a[i];if(!m)return null;const v=o({},p);return m(v)}return y(Q,{size:e.size,title:f},{default:()=>r,extra:()=>u(n,"extra")})};return t("register",{setDescProps:I}),()=>s(b)?k():P()}});function ue(e){if(!U())throw new Error("useDescription() can only be used inside setup() or functional components!");const t=j(null),n=j(!1);function g(c){t.value=c,e&&c.setDescProps(e),n.value=!0}return[g,{setDescProps:(c,h=!1)=>{var d;if(!h){(d=s(t))==null||d.setDescProps(c);return}setTimeout(()=>{var b;return(b=s(t))==null?void 0:b.setDescProps(c)})}}]}export{oe as _,ue as u};
