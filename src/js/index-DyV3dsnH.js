var z=Object.defineProperty;var D=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var V=(n,t,o)=>t in n?z(n,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[t]=o,M=(n,t)=>{for(var o in t||(t={}))W.call(t,o)&&V(n,o,t[o]);if(D)for(var o of D(t))j.call(t,o)&&V(n,o,t[o]);return n};var d=(n,t,o)=>new Promise((v,s)=>{var b=r=>{try{C(o.next(r))}catch(_){s(_)}},l=r=>{try{C(o.throw(r))}catch(_){s(_)}},C=r=>r.done?v(r.value):Promise.resolve(r.value).then(b,l);C((o=o.apply(n,t)).next())});import{aq as R,al as F}from"./bootstrap-CbEyMBZc.js";import{d as G,l as q,V as L,h as c,o as u,w as i,a as p,b as a,W as k,k as f,t as g}from"../jse/index-index-CKHiV3bJ.js";import{v as H}from"./vxe-table-5UTMlFMN.js";import{e as I,q as J,f as K,g as A,h as Q}from"./data-DtzB42qy.js";import{c as U}from"./download-BL_xY_mD.js";import{_ as X}from"./autoCodeResult-modal.vue_vue_type_script_setup_true_lang-Um0OzM8U.js";import{_ as Y}from"./autoCodeResult-view-modal.vue_vue_type_script_setup_true_lang-CxmbFmVY.js";import S from"./index-Yd03BW_o.js";import{_ as Z}from"./page.vue_vue_type_script_setup_true_lang-C6V6VPKH.js";import{u as oo}from"./use-vxe-grid-jJsowVf7.js";import{u as P}from"./use-modal-BtBQhM0d.js";import{P as eo}from"./index-Bf3KtG2n.js";import{g as to}from"./get-popup-container-P4S1sr5h.js";import"./form-DcAycvJX.js";import"./use-vben-form-CDDuv56b.js";import"./index-C0ExvxMt.js";import"./checkbox.vue_vue_type_script_setup_true_lang-53DrAgf8.js";import"./render-content.vue_vue_type_script_lang-h-IJYrAt.js";import"./init-5GXIIGpx.js";import"./index-CUsW12bK.js";import"./css-Dmgy8YJo.js";import"./LeftOutlined-D2uSfO0F.js";import"./helper-CgBacOxF.js";import"./useDescription-B6kfVHGc.js";import"./index-vRRmcGk_.js";import"./index-BPV6pKaP.js";import"./index-65hk_V-f.js";import"./index-CQDwpHx9.js";import"./shallowequal-BSzQCceG.js";import"./uniq-DFnFScdj.js";import"./Overflow-1mM_ifyS.js";import"./index-B4Ee8RY3.js";import"./slide-BYSN4a27.js";import"./Dropdown-CEQGVhtH.js";import"./pick-DDCWWYz_.js";import"./isMobile-8sZ0LT6r.js";import"./index-Bn5n5c2e.js";import"./x-C_lPlK2i.js";import"./index-7E7RpNGb.js";const Lo=G({__name:"index",setup(n){const t={collapsed:!0,commonConfig:{labelWidth:80,componentProps:{allowClear:!0}},schema:J(),wrapperClass:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},o={checkboxConfig:{highlight:!0,reserve:!0,trigger:"row"},columns:I,height:"auto",keepSource:!0,pagerConfig:{},proxyConfig:{ajax:{query:(h,...x)=>d(null,[h,...x],function*({page:e},m={}){return yield K(M({pageNum:e.currentPage,pageSize:e.pageSize},m))})}},rowConfig:{keyField:"id"},id:"system-autoCodeResult-index"},[v,s]=oo({formOptions:t,gridOptions:o}),[b,l]=P({connectedComponent:X}),[C,r]=P({connectedComponent:Y});function _(){l.setData({}),l.open()}function T(e){return d(this,null,function*(){r.setData({id:e.id}),r.open()})}function E(e){return d(this,null,function*(){l.setData({id:e.id}),l.open()})}function B(e){return d(this,null,function*(){yield A(e.id),yield s.query()})}function N(){const m=s.grid.getCheckboxRecords().map(h=>h.id);F.confirm({title:"提示",okType:"danger",content:`确认删除选中的${m.length}条记录吗？`,onOk:()=>d(null,null,function*(){yield A(m),yield s.query()})})}function O(){U(Q,"编码生成记录数据",s.formApi.form.values,{fieldMappingTime:t.fieldMappingTime})}return(e,m)=>{const h=q("a-button"),x=q("ghost-button"),y=L("access");return u(),c(a(Z),{"auto-content-height":!0},{default:i(()=>[p(a(v),{"table-title":"编码生成记录列表"},{"toolbar-tools":i(()=>[p(a(S),null,{default:i(()=>[k((u(),c(h,{onClick:O},{default:i(()=>[f(g(e.$t("pages.common.export")),1)]),_:1})),[[y,["system:autoCodeResult:export"],"code"]]),k((u(),c(h,{disabled:!a(H)(a(s)),danger:"",type:"primary",onClick:N},{default:i(()=>[f(g(e.$t("pages.common.delete")),1)]),_:1},8,["disabled"])),[[y,["system:autoCodeResult:remove"],"code"]]),k((u(),c(h,{type:"primary",onClick:_},{default:i(()=>[f(g(e.$t("pages.common.add")),1)]),_:1})),[[y,["system:autoCodeResult:add"],"code"]])]),_:1})]),action:i(({row:w})=>[p(a(S),null,{default:i(()=>[p(x,{onClick:R($=>T(w),["stop"])},{default:i(()=>[f(g(e.$t("pages.common.view")),1)]),_:2},1032,["onClick"]),k((u(),c(x,{onClick:R($=>E(w),["stop"])},{default:i(()=>[f(g(e.$t("pages.common.edit")),1)]),_:2},1032,["onClick"])),[[y,["system:autoCodeResult:edit"],"code"]]),p(a(eo),{"get-popup-container":a(to),placement:"left",title:"确认删除？",onConfirm:$=>B(w)},{default:i(()=>[k((u(),c(x,{danger:"",onClick:m[0]||(m[0]=R(()=>{},["stop"]))},{default:i(()=>[f(g(e.$t("pages.common.delete")),1)]),_:1})),[[y,["system:autoCodeResult:remove"],"code"]])]),_:2},1032,["get-popup-container","onConfirm"])]),_:2},1024)]),_:1}),p(a(b),{onReload:m[1]||(m[1]=w=>a(s).query())}),p(a(C))]),_:1})}}});export{Lo as default};
